<div rtl="trl">

# ุณุฑูุฑ ูพุฑูุชฺฉู 4iProto ุชู ุงุจุฏุงู

</div>

<div align="center">
  <img src="src.png" alt="ุณุฑูุฑ ุงุจุฏุงู 4iProto" width="600">
</div>

ฺฉ ุณุฑูุฑ ุชููููฺฏ ูุจุชู ุจุฑ SSH ุจุง ฺฉุงุฑุง ุจุงูุง ฺฉู ุจุฑุง ุฏุณุชุฑุณ ุงูู ุจู ุงูุชุฑูุช ุทุฑุงุญ ุดุฏู ู ุฏุงุฑุง ูุงุจูุชโูุง ูพุดุฑูุชู ุงููุช ู ูุธุงุฑุช ุจุฑ ุชุฑุงูฺฉ ุงุณุช.

**๐ [English](README.md) | [ูุงุฑุณ](README.fa.md)**

## ๐ ูุงุจูุชโูุง

### ๐ ูฺฺฏโูุง ุงููุช
- **ูุญุงูุธุช ุฏุงุฎู ุฏุฑ ุจุฑุงุจุฑ ุญููุงุช ุจุฑูุชููุฑุณ**: ูุณุฏูุฏุณุงุฒ ุฎูุฏฺฉุงุฑ IP ูพุณ ุงุฒ ุชูุงุดโูุง ูุงูููู ุงุญุฑุงุฒ ููุช
- **ูุธุงุฑุช ุจุฑ ุญููุงุช**: ุซุจุช ุฏูู ุชูุงุดโูุง ูุงูููู ูุฑูุฏ ุจุง ุฑุฏุงุจ IP
- **ุงุญุฑุงุฒ ููุช ูุงุจู ุชูุธู**: ุชุนุฏุงุฏ ูุงุจู ุชูุธู ุชูุงุดโูุง ุญุฏุงฺฉุซุฑ ุงุญุฑุงุฒ ููุช
- **ุณุณุชู ูุณุฏูุฏุณุงุฒ IP**: ูุฏุฑุช ูพุงุฏุงุฑ IP ูุง ูุณุฏูุฏ ุดุฏู ุจุง ุฐุฎุฑูโุณุงุฒ JSON
- **ุณูุงุฑุดโุณุงุฒ ุจูุฑ ุณุฑูุฑ**: ูุฎู ฺฉุฑุฏู ุง ุณูุงุฑุดโุณุงุฒ ุจูุฑ ุณุฑูุฑ ุงุฒ ุทุฑู ุชูุธูุงุช
- **ุชุนู ุณุทุญ ุฏุณุชุฑุณ**: ุฏู ุญุงูุช ฺฉุงุฑุจุฑ ู ูุฏุฑ ุฏุงุฑุฏ ฺฉู ูุฏุฑุงู ูุงุจูุช ุงุฌุฑุง ุฏุณุชูุฑ ุฏุฑ ุดู ุณุณุชู ุนุงูู ุฑุง ุฏุงุฑูุฏ ุงูุง ฺฉุงุฑุจุฑุงู ููุท ู ุชูุงููุฏ ุชููู ุจุฒููุฏ

### ๐ ูุธุงุฑุช ุจุฑ ุชุฑุงูฺฉ
- **ุฑุฏุงุจ ุชุฑุงูฺฉ ุขู**: ูุธุงุฑุช ุจุฑ ุงุณุชูุงุฏู ุขูพููุฏ/ุฏุงูููุฏ ุจุฑุง ูุฑ ฺฉุงุฑุจุฑ
- **ุขูุงุฑ ูุจุชู ุจุฑ ุฌูุณู**: ุฑุฏุงุจ ุจุงุชโูุง ุงุฑุณุงู/ุฏุฑุงูุช ุดุฏู ุฏุฑ ูุฑ ุฌูุณู
- **ุชุญูู ุงุณุชูุงุฏู ฺฉู**: ุขูุงุฑ ุชุฑุงูฺฉ ุชุฌูุน ุฏุฑ ุชูุงู ุฌูุณุงุช
- **ุฐุฎุฑูโุณุงุฒ ุฎูุฏฺฉุงุฑ ุฏุงุฏู**: ุฐุฎุฑู ุฏุงุฏูโูุง ุชุฑุงูฺฉ ุฏุฑ ูุงูโูุง JSON ูุฑ 10 ุซุงูู
- **ูุธุงุฑุช ุขู ูพููุง ุจุงูุฏ**: ููุงุด ุงุณุชูุงุฏู ูพููุง ุจุงูุฏ ุจู ุตูุฑุช ุขู
- **ูุณุฏูุฏ ุณุงุฒ ุณุงุช ูุง ุบุฑ ูุฌุงุฒ**:ุณุงุช ูุง ฺฉู ูู ุฎูุงูุฏ ฺฉุงุฑุจุฑ ุจุงุฒุฏุฏ ฺฉูุฏ ุฑุง ูุณุฏูุฏ ู ฺฉูุฏ
- **ูุณุฏูุฏ ุณุงุฒ ุข ูพ ูุง ุบุฑ ูุฌุงุฒ**:ุข ูพ ูุง ฺฉู ูู ุฎูุงูุฏ ฺฉุงุฑุจุฑ ุจุงุฒุฏุฏ ฺฉูุฏ ุฑุง ูุณุฏูุฏ ู ฺฉูุฏ
- **ุฑุฏุงุจ ุณุงุช ูุง ุจุงุฒุฏุฏ ุดุฏู**:ูุงุจูุช ุฑุฏุงุจ ุณุงุช ูุง ุจุงุฒุฏุฏ ุดุฏู ุชูุณุท ฺฉุงุฑุจุฑ ุ ฺฉู ู ุชูุงูุฏ ุงู ูุงุจูุช ุฑุง ุจุฑุง ูุฑ ฺฉุงุจุฑ ูุนุงู ุง ุบุฑ ูุนุงู ฺฉูุฏ

### ๐ ูุงุจูุชโูุง ุดุจฺฉู
- **ูพุดุชุจุงู ฺูุฏ ูพูุฑุช**: ุงุฌุฑุง ุณุฑูุฑ ุฑู ฺูุฏู ูพูุฑุช ุจู ุตูุฑุช ููุฒูุงู
- **ููุฑูุงุฑุฏูฺฏ TCP**: ููุฑูุงุฑุฏูฺฏ ูุณุชูู ุงุชุตุงู TCP ุจุฏูู ุชูุธูุงุช ุงุถุงู
- **ููุฑูุงุฑุฏูฺฏ UDP**: ูพุดุชุจุงู ฺฉุงูู ููุฑูุงุฑุฏูฺฏ ุชุฑุงูฺฉ UDP
- **ฺูุฏ ูพูุชูุฑู**: ุงุฌุฑุง ุฑู ุณุณุชูโูุง ูููฺฉุณ ู ููุฏูุฒ
- **ฺฉุงุฑุง ุจุงูุง**: 10 ุจุฑุงุจุฑ ุณุฑุนโุชุฑ ุงุฒ OpenSSH ุจุฑุง ุนููุงุช ุชููููฺฏ

### ๐๏ธ ูฺฺฏโูุง ูุฏุฑุช
- **ูุฏุฑุช ฺฉุงุฑุจุฑุงู**: ุณุณุชู ุงุญุฑุงุฒ ููุช ูุจุชู ุจุฑ JSON
- **ุงุฏุบุงู ุดู**: ูพุดุชุจุงู ุจูู CMD ุฏุฑ ููุฏูุฒ ู Shell ุฏุฑ ูููฺฉุณ
- **ูุฏุฑุช ุชูุธูุงุช**: ุชูุธูุงุช ุณุฑูุฑ ูุจุชู ุจุฑ JSON
- **ุณุณุชู ุซุจุช**: ุซุจุช ุฌุงูุน ุงุชุตุงูุงุช ู ุญููุงุช

## ๐ ูุงุฒููุฏโูุง

- Go 1.19 ุง ุจุงูุงุชุฑ
- ฺฉูุฏ ุฎุตูุต SSH (`id_rsa`)
- ูุงูโูุง ุชูุธูุงุช (ุจู ุจุฎุด ุฑุงูโุงูุฏุงุฒ ูุฑุงุฌุนู ฺฉูุฏ)

## โ๏ธ ุฑุงูโุงูุฏุงุฒ

### 1. ูุงูโูุง ุชูุธูุงุช

#### Windows

```json


{
  "ports": [64235, 64236,64237],
  "shell": "cmd.exe",
  "max_auth_attempts": 3,
  "server_version": "SSH-2.0-Abdal-4iProto-Server"
}
```
#### linux

```json
{
  "ports": [64235, 64236,64237],
  "shell": "/bin/bash",
  "max_auth_attempts": 3,
  "server_version": "SSH-2.0-Abdal-4iProto-Server"
}
```




#### `users.json`

```json

[
  {
    "username": "ebrasha",
    "password": "152314562152",
    "role": "admin",
    "blocked_domains": [],
    "blocked_ips": [],
    "log": "no"
  },
  {
    "username": "user1",
    "password": "password123",
    "role": "user",
    "blocked_domains": [
      "facebook.com",
      "*.facebook.com",
      "twitter.com",
      "*.twitter.com",
      "instagram.com",
      "*.instagram.com"
    ],
    "blocked_ips": [
      "192.168.1.100",
      "10.0.0.*",
      "172.16.*.*"
    ],
    "log": "yes"
  },
  {
    "username": "user2",
    "password": "password456",
    "role": "user",
    "blocked_domains": [
      "youtube.com",
      "*.youtube.com",
      "netflix.com",
      "*.netflix.com"
    ],
    "blocked_ips": [
      "192.168.10.1",
      "10.10.10.10"
    ],
    "log": "yes"
  }
]

```

#### `blocked_ips.json`

```json
{
  "blocked": [
    "192.168.1.12",
    "10.0.0.7"
  ]
}
```

### 2. ุชูุธู ฺฉูุฏ SSH
ฺฉูุฏ ุฎุตูุต SSH ุฎูุฏ ุฑุง ุจู ุนููุงู `id_rsa` ุฏุฑ ุฏุงุฑฺฉุชูุฑ ูพุฑูฺู ูุฑุงุฑ ุฏูุฏ.

ุจุฑุง ุชููุฏ ฺฉูุฏ ุชุงุฒู ุฏุฑ ุณุฑูุฑ  ุฏุฑ ูุญู ูุงู ูุง ุณุฑูุฑ ุฏุณุชูุฑ ุฒุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ.

```bash
ssh-keygen -t rsa -b 4096 -f id_rsa
```

### 3. ุณุงุฎุช ู ุงุฌุฑุง
```bash
go mod tidy
go build -o abdal-4iproto-server
./abdal-4iproto-server
```

## ๐ ุณุงุฎุชุงุฑ ูุงูโูุง

```
abdal-4iproto-server/
โโโ main.go                 # ุจุฑูุงูู ุงุตู ุณุฑูุฑ
โโโ server_config.json      # ุชูุธูุงุช ุณุฑูุฑ
โโโ users.json             # ุงุทูุงุนุงุช ฺฉุงุฑุจุฑุงู
โโโ id_rsa                 # ฺฉูุฏ ุฎุตูุต SSH
โโโ blocked_ips.json       # ุขุฏุฑุณโูุง IP ูุณุฏูุฏ ุดุฏู
โโโ invalid_logins.log     # ุชูุงุดโูุง ูุงูููู ูุฑูุฏ
โโโ traffic_*.json         # ุขูุงุฑ ุชุฑุงูฺฉ ูุฑ ฺฉุงุฑุจุฑ
```

## ๐ง ฺฏุฒููโูุง ุชูุธูุงุช

### ุชูุธูุงุช ุณุฑูุฑ (`server_config.json`)
- `ports`: ุขุฑุงูโุง ุงุฒ ูพูุฑุชโูุง ฺฉู ุณุฑูุฑ ุฑู ุขูโูุง ฺฏูุด ูโุฏูุฏ
- `shell`: ุฏุณุชูุฑ ุดู ุจุฑุง ุงุฌุฑุง (cmd.exe ุจุฑุง ููุฏูุฒุ /bin/bash ุจุฑุง ูููฺฉุณ)
- `max_auth_attempts`: ุญุฏุงฺฉุซุฑ ุชูุงุดโูุง ูุงูููู ูุฑูุฏ ูุจู ุงุฒ ูุณุฏูุฏุณุงุฒ IP
- `server_version`: ุฑุดุชู ูุณุฎู ุณูุงุฑุด ุณุฑูุฑ SSH

### ูุธุงุฑุช ุจุฑ ุชุฑุงูฺฉ
ุณุฑูุฑ ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ุฑุฏุงุจ ูโฺฉูุฏ:
- ุจุงุชโูุง ุงุฑุณุงู/ุฏุฑุงูุช ุดุฏู ุฏุฑ ูุฑ ุฌูุณู
- ุชุฑุงูฺฉ ฺฉู ุจุฑุง ูุฑ ฺฉุงุฑุจุฑ
- ุจุฑฺุณุจโูุง ุฒูุงู ุฌูุณู
- ุงุณุชูุงุฏู ุขู ูพููุง ุจุงูุฏ

## ๐ ุงุณุชูุงุฏู


### ุดุฑูุน ุณุฑูุฑ
```bash
./abdal-4iproto-server
```

### ุงุชุตุงู ุงุฒ ุทุฑู ฺฉูุงูุช ุงุฎุชุตุงุต
ูุง ฺฉ ฺฉูุงูุช ุงุฎุชุตุงุต ุจุง ุฑุงุจุท ฺฏุฑุงูฺฉ ุณุงุฎุชูโุงู ฺฉู ุงุฒ ุงุฌุงุฏ ุณุฑูุฑ SOCKS5 ูุฒ ูพุดุชุจุงู ูโฺฉูุฏ. ุจุฑุง ุจูุชุฑู ุชุฌุฑุจูุ ุงุฒ ฺฉูุงูุช ุงุฎุชุตุงุต ูุง ุงุณุชูุงุฏู ฺฉูุฏ:

**ุฏุงูููุฏ ฺฉูุงูุช**: [ฺฉูุงูุช ุงุจุฏุงู 4iProto](https://github.com/ebrasha/abdal-4iproto-client)

### ุฌุงฺฏุฒู: ุงุชุตุงู SSH ุงุณุชุงูุฏุงุฑุฏ
```bash
ssh -D 1080 username@server_ip -p 22
```

### ุงุณุชูุงุฏู ุงุฒ ูพุฑูฺฉุณ SOCKS
ูพุณ ุงุฒ ุจุฑูุฑุงุฑ ุงุชุตุงู ุจุง ููุฑูุงุฑุฏูฺฏ ุฏูุงูฺฉ:
- ุจุฑูุงููโูุง ุฑุง ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ูพุฑูฺฉุณ SOCKS ุฑู localhost:1080 ุชูุธู ฺฉูุฏ
- ุชูุงู ุชุฑุงูฺฉ ุงุฒ ุทุฑู ุงุชุตุงู ุงูู SSH ุชููู ุฎูุงูุฏ ุดุฏ

## ๐ ูุธุงุฑุช

### ุขูุงุฑ ุชุฑุงูฺฉ
ุฏุงุฏูโูุง ุชุฑุงูฺฉ ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ุฏุฑ ูุงูโูุง `traffic_username.json` ุฐุฎุฑู ูโุดููุฏ:
```json
{
  "username": "user1",
  "ip": "192.168.1.100",
  "last_bytes_sent": 1024,
  "last_bytes_received": 2048,
  "total_bytes_sent": 1048576,
  "total_bytes_received": 2097152,
  "total_bytes": 3145728,
  "last_timestamp": "2025-01-15T10:30:00Z"
}
```

### ูุงูโูุง ุซุจุช
- `invalid_logins.log`: ุซุจุช ุชูุงุดโูุง ูุงูููู ุงุญุฑุงุฒ ููุช
- `blocked_ips.json`: ูุฏุฑุช ุขุฏุฑุณโูุง IP ูุณุฏูุฏ ุดุฏู
- ุฎุฑูุฌ ฺฉูุณูู: ุซุจุชโูุง ุขู ุงุชุตุงู ู ุชุฑุงูฺฉ

## ๐ ูฺฺฏโูุง ุงููุช

### ูุญุงูุธุช ุฏุฑ ุจุฑุงุจุฑ ุจุฑูุชููุฑุณ
- ูุณุฏูุฏุณุงุฒ ุฎูุฏฺฉุงุฑ IP ูพุณ ุงุฒ ุชูุงุดโูุง ูุงูููู ูุงุจู ุชูุธู
- ุฐุฎุฑูโุณุงุฒ ูพุงุฏุงุฑ IP ูุง ูุณุฏูุฏ ุดุฏู
- ุซุจุช ุฏูู ุญููุงุช ุจุง ุจุฑฺุณุจโูุง ุฒูุงู

### ูุธุงุฑุช ุจุฑ ุญููุงุช
- ุซุจุช ุชูุงุดโูุง ูุงูููู ูุฑูุฏ ุจุง ูุงู ฺฉุงุฑุจุฑุ ุฑูุฒ ุนุจูุฑ ู IP
- ุฑุฏุงุจ ุงูฺฏููุง ุญููู ู ููุงุจุน
- ุงุฑุงุฆู ุชุญููโูุง ุฌุงูุน ุงููุช

## ๐ ฺฏุฒุงุฑุด ูุดฺฉูุงุช
ุงฺฏุฑ ุจุง ูุดฺฉู ููุงุฌู ุดุฏุฏ ุง ุฏุฑ ูพฺฉุฑุจูุฏ ูุดฺฉู ุฏุงุฑุฏุ ูุทูุงู ุงุฒ ุทุฑู ุงูู Prof.Shafiei@Gmail.com ุจุง ูุง ุฏุฑ ุชูุงุณ ุจุงุดุฏ. ููฺูู ูโุชูุงูุฏ ูุดฺฉูุงุช ุฑุง ุฏุฑ GitLab ุง GitHub ฺฏุฒุงุฑุด ุฏูุฏ.

## โค๏ธ ุญูุงุช ูุงู
ุงฺฏุฑ ุงู ูพุฑูฺู ุจุฑุง ุดูุง ููุฏ ุจูุฏ ู ูุงู ุจู ุญูุงุช ุงุฒ ุชูุณุนู ุจุดุชุฑ ูุณุชุฏุ ูุทูุงู ุฏุฑ ูุธุฑ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ฺฉูฺฉ ูุงู ฺฉูุฏ:
- [ุงูุฌุง ุงูุฏุง ฺฉูุฏ](https://alphajet.ir/abdal-donation)

## ๐คต ุจุฑูุงููโููุณ
ุณุงุฎุชู ุดุฏู ุจุง ุนุดู ุชูุณุท **ุงุจุฑุงูู ุดูุน (EbraSha)**
- **ุงูู**: Prof.Shafiei@Gmail.com
- **ุชูฺฏุฑุงู**: [@ProfShafiei](https://t.me/ProfShafiei)

## ๐ ูุฌูุฒ
ุงู ูพุฑูฺู ุชุญุช ูุฌูุฒ GPLv2 or later ููุชุดุฑ ุดุฏู ุงุณุช. 